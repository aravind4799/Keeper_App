(this["webpackJsonpusing-pre-built-react-components"]=this["webpackJsonpusing-pre-built-react-components"]||[]).push([[0],{52:function(e,t,a){e.exports=a(79)},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),c=a.n(o),l=a(15),s=a(28),m=a.n(s);function u(){return r.a.createElement("div",{className:"signuphead"},r.a.createElement("h1",null," keeper app  "),r.a.createElement("div",{className:"center"},r.a.createElement(m.a,{style:{width:"60%",height:"auto"}}),r.a.createElement("h3",null," we KEEP your notes "),r.a.createElement("h6",null," never miss a Task! ")))}var d=a(3);function i(e){return r.a.createElement("input",{placeholder:e.placeholder,type:e.type,onChange:e.func,name:e.name,value:e.value})}var p=a(4),f=a(17),h=a.n(f);function E(e){const t={username:"",password:"",confirm_password:"",username_error:"",password_error:"",confirm_password_error:"",data_from_db:[]},a=Object(n.useState)(t),o=Object(l.a)(a,2),c=o[0],s=o[1],m=Object(n.useState)(!0),u=Object(l.a)(m,2),f=u[0],E=u[1];function b(){E(e=>!e),s(()=>t)}function w(e){const t=e.target,a=t.name,n=t.value;s(e=>Object(d.a)(Object(d.a)({},e),{},{[a]:n}))}Object(n.useEffect)(()=>{h.a.get("http://localhost:3010/getdata").then(e=>{s(t=>Object(d.a)(Object(d.a)({},t),{},{data_from_db:e.data}))}).catch(e=>console.log(e)),console.log("render")},[f]);const g=Object(p.f)(),O=()=>g.push("/note");return r.a.createElement("div",{className:"login"},r.a.createElement("h1",{style:{marginBottom:"7vh"}},f?"Login":"Register"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),function(){let e=!0,t=!0,a=!0,n=!1,r=!1;return s(e=>Object(d.a)(Object(d.a)({},e),{},{username_error:"",password_error:"",confirm_password_error:""})),c.data_from_db.forEach(e=>{e.username===c.username&&(n=!0,e.password===c.password&&(r=!0))}),console.log(n),console.log(r),c.username.length<3&&(e=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{username_error:"Username should consist atleast 3 characters!"}))),c.password.length<8&&(t=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{password_error:"password field should consist atleast 8 characters!"}))),c.password===c.username&&(t=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{password_error:"username cannot be password"}))),f&&(n||(e=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{username_error:"username does'nt exist"}))),n&&!r&&(t=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{password_error:"password does'nt match"})))),!1===f&&(n&&(e=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{username_error:"Username already exits"}))),c.password!==c.confirm_password&&(a=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{confirm_password_error:"passwords does'nt match"}))),0===c.confirm_password.length&&(a=!1,s(e=>Object(d.a)(Object(d.a)({},e),{},{confirm_password_error:"confirm your password"})))),!!(f&&e&&t)||!f&&(!!(e&&t&&a)||void 0)}()&&(e.senddata(c),s(()=>t),f||h()({url:"http://localhost:3010/add",method:"POST",data:c}).then((function(e){console.log(e.data),console.log(e.status)})).catch(e=>console.log(e)),O())}},r.a.createElement(i,{placeholder:"Username",type:"text",func:w,name:"username",value:c.username}),r.a.createElement("div",{style:{color:"#fff",fontSize:15,marginBottom:7}},c.username_error),r.a.createElement(i,{placeholder:"your password",type:"password",func:w,name:"password",value:c.password}),r.a.createElement("div",{style:{color:"#fff",fontSize:15,marginBottom:7}},c.password_error),f?null:r.a.createElement("div",null,r.a.createElement(i,{placeholder:"confirm password",type:"password",func:w,name:"confirm_password",value:c.confirm_password}),r.a.createElement("div",{style:{color:"#fff",fontSize:15,marginBottom:7}},c.confirm_password_error)),r.a.createElement("button",{className:"loginbutton",type:"submit"},f?"Login":"Register")),f?r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:b}," Register ")):r.a.createElement("div",null,r.a.createElement("a",{href:"#",onClick:b}," Login ")))}var b=function(){const e=Object(p.f)();return r.a.createElement("header",null,r.a.createElement("div",{className:"icon"},r.a.createElement(m.a,{style:{width:"100%",height:"auto"}})),r.a.createElement("h1",null," Keeper App"),r.a.createElement("button",{className:"headerbutton",onClick:()=>e.push("/")}," Log out "))};var w=function(){const e=(new Date).getFullYear();return r.a.createElement("footer",null,r.a.createElement("p",null,"Copyright \u24d2 ",e))},g=a(48),O=a.n(g),_=a(96),j=a(97),v=a(47),y=a.n(v);var S=function(e){return r.a.createElement("div",{className:"note"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.content),r.a.createElement("button",{onClick:function(){e.onDelete(e.title,e.content)}},r.a.createElement(y.a,null)))};var k=function(e){const t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)({title:"",content:""}),m=Object(l.a)(s,2),u=m[0],i=m[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),E=f[0],b=f[1],w=()=>{h.a.get("http://localhost:3010/getuserdetails",{params:{username:e.username}}).then(e=>{console.log(e.data),c(e.data)}).catch(e=>console.log(e))};function g(e){const t=e.target,a=t.name,n=t.value;i(e=>Object(d.a)(Object(d.a)({},e),{},{[a]:n}))}function v(t,a){h()({url:"http://localhost:3010/delete",method:"POST",data:{username:e.username,title:t,content:a}}).then(e=>{e.data.deleted&&w()})}return Object(n.useEffect)(()=>{w()},[]),r.a.createElement("div",{className:"div-form"},r.a.createElement("form",{className:"create-note"},E&&r.a.createElement("input",{name:"title",onChange:g,value:u.title,placeholder:"Title"}),r.a.createElement("textarea",{name:"content",onClick:function(){b(!0)},onChange:g,value:u.content,placeholder:"Take a note...",rows:E?"3":"1"}),r.a.createElement(j.a,{in:E},r.a.createElement(_.a,{onClick:t=>{t.preventDefault(),h()({url:"http://localhost:3010/save",method:"POST",data:{username:e.username,newnote:u}}).then(e=>{e.data.saved&&(i({title:"",content:""}),w())})}},r.a.createElement(O.a,null)))),o.map((e,t)=>r.a.createElement(S,{key:t,id:t,title:e.title,content:e.content,onDelete:v})))};var C=function(e){return r.a.createElement("div",null,r.a.createElement(b,null),r.a.createElement("h2",{className:"greet"}," welcome ",e.user_details.username," "),r.a.createElement(k,{username:e.user_details.username}),r.a.createElement(w,null))},N=a(27);function x(){const e=Object(n.useState)({username:"",password:"",confirm_password:"",username_error:"",password_error:"",confirm_password_error:"",data_from_db:[]}),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0},r.a.createElement(u,null),r.a.createElement(E,{senddata:function(e){o(e)}})),r.a.createElement(p.a,{path:"/note"},r.a.createElement(C,{user_details:a})))))}c.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.2e086966.chunk.js.map